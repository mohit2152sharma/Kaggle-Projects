return(data[which(flag), 2])
}
}
}
check_na(data)
is.na(data['title'])
table(is.na(data['title']))
table(is.na(data['title']))[1]
col_names = names(data)
check_na = function(data){
col_names = names(data)
for(col_name in col_names){
data[which(is.na(data[col_name])), 2]
}
}
check_na(data)
check_na = function(data){
col_names = names(data)
for(col_name in col_names){
print(data[which(is.na(data[col_name])), 2])
}
}
check_na(data)
data[which(is.na(data['average_rating'])), 2]
print('z'*50)
print(rep('z', 50))
print(rep('-', 50), quote = FALSE)
data[`# num_pages`]
data['# num_pages']
#books without average_rating
print('Books without average rating')
data[which(is.na(data['average_rating'])), 2]
print(rep('-', 30), quote = FALSE)
print('Books without no number of pages')
data[which(is.na(data['# num_pages'])), 2]
print(rep('-', 30), quote = FALSE)
print('Books without ratings count')
data[which(is.na(data['ratings_count'])), 2]
print(rep('-', 30), quote = FALSE)
print('Books without text review count')
data[which(is.na(data['text_reviews_count'])), 2]
print(rep('-', 30), quote = FALSE)
print(data[which(is.na(data['average_rating'])), 2])
#books without average_rating
print('Books without average rating')
print(data[which(is.na(data['average_rating'])), 2])
print(rep('-', 30), quote = FALSE)
print('Books without no number of pages')
data[which(is.na(data['# num_pages'])), 2]
print(rep('-', 30), quote = FALSE)
print('Books without ratings count')
data[which(is.na(data['ratings_count'])), 2]
print(rep('-', 30), quote = FALSE)
print('Books without text review count')
data[which(is.na(data['text_reviews_count'])), 2]
print(rep('-', 30), quote = FALSE)
titles = c('Books without average rating', 'Books without no number of pages',
'Books without ratings count', 'Books without text review count' )
col_names = c('average_rating', '# num_pages', 'ratings_count', 'text_reviews_count')
for(i in 1:4){
print(title[i])
data[which(is.na(data[col_names[i]])), 2]
}
for(i in c(1:4)){
print(title[i])
data[which(is.na(data[col_names[i]])), 2]
}
print(titles[i])
for(i in c(1:4)){
print(titles[i])
data[which(is.na(data[col_names[i]])), 2]
}
titles = c('Books without average rating', 'Books without no number of pages',
'Books without ratings count', 'Books without text review count' )
col_names = c('average_rating', '# num_pages', 'ratings_count', 'text_reviews_count')
for(i in c(1:4)){
print(titles[i])
data[which(is.na(data[col_names[i]])), 2]
}
class(col_names[1])
which(is.na(data[col_names[1]]))
titles = c('Books without average rating', 'Books without no number of pages',
'Books without ratings count', 'Books without text review count' )
col_names = c('average_rating', '# num_pages', 'ratings_count', 'text_reviews_count')
for(i in c(1:4)){
print(titles[i])
data[which(is.na(data[col_names[i]])), 2]
}
titles = c('Books without average rating', 'Books without no number of pages',
'Books without ratings count', 'Books without text review count' )
col_names = c('average_rating', '# num_pages', 'ratings_count', 'text_reviews_count')
for(i in c(1:4)){
print(titles[i])
data[which(is.na(data[col_names[i]])), 2]
}
for(i in c(1:4)){
print(titles[i])
print(data[which(is.na(data[col_names[i]])), 2])
}
for(i in c(1:4)){
print(titles[i])
book_names = data[which(is.na(data[col_names[i]])), 2]
for(book_name in book_names){
print(book_name)
}
}
book_name
View(book_names)
View(data)
library(readr)
book_data = read_csv('./input/books.csv')
parsing_failure = problems(book_data)
head(parsing_failure)
library(tidyverse)
glimpse(book_data)
summary(book_data)
book_data = book_data[-which(is.na(book_data$title)), 2]
summary(boo_data)
summary(book_data)
book_data = read_csv('./input/books.csv')
book_data = book_data[-which(is.na(book_data$title)), ]
summary(book_data)
book_data = read_csv('./input/books.csv')
book_data = book_data[-which(is.na(book_data$title)), ]
summary(book_data)
book_data = read_csv('./input/books.csv')
summary(book_data)
View(book_data)
which(is.na(book_data$title))
which(is.na(book_data$text_reviews_count))
book_data[11004, 2]
length(book_data[11004, 2])
length(str_split(book_data[11004, 2], " "))
length(str_split(as.character(book_data[11004, 2]), " "))
data[11004, 2][1,1]
data[11004, 2][[1]]
length(book_data[11004, 2][[1]])
length(str_split(book_data[11004, 2][[1]], " "))
strsplit(book_data[11004, 2][[1]], " ")
length(strsplit(book_data[11004, 2][[1]], " "))
length(strsplit(book_data[11004, 2][[1]], " ")[[1]])
strsplit(book_name, " ")[1:30]
clear()
l()
strsplit(book_name, ' ')[[1:30]]
strsplit(book_name, " ")[[1]][1:30]
cat(strsplit(book_name, " ")[[1]][1:10], " ")
cat(book_name, '.....')
book_name = cat(strsplit(book_name, " ")[[1]][1:10], " ")
cat(book_name, '....')
paste(book_name, '....')
for(i in c(1:4)){
print(titles[i])
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(book_name in book_names){
book_name = cat(strsplit(book_name, " ")[[1]][1:10], " ")
book_name = paste(book_name, '.....')
print(book_name)
}
}
for(i in c(1:4)){
print(titles[[i]])
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(book_name in book_names){
book_name = cat(strsplit(book_name, " ")[[1]][1:10], " ")
book_name = paste(book_name, '.....')
print(book_name)
}
}
for(i in c(1:4)){
print(titles[[i]][i])
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(book_name in book_names){
book_name = cat(strsplit(book_name, " ")[[1]][1:10], " ")
book_name = paste(book_name, '.....')
print(book_name)
}
}
for(i in c(1:4)){
print(titles[[i]])
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(book_name in book_names){
book_name = cat(strsplit(book_name, " ")[[1]][1:10], " ")
book_name = paste(book_name, '.....')
print(book_name)
}
}
for(i in c(1:4)){
print(titles[[i]])
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(book_name in book_names){
book_name = cat(strsplit(book_name, " ")[[1]][1:10], " ")
book_name = paste(book_name, '.....', sep = '')
print(book_name)
}
}
View(book_names)
i = 1
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
View(book_names)
for(book_name in book_names){print(book_name)}
for(book_name in book_names){
print(book_name)
}
for(i in c(1:4)){
print(titles[[i]])
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(book_name in book_names){
book_name = paste(strsplit(book_name, " ")[[1]][1:10], " ", ".....")
print(book_name)
}
}
for(i in c(1:4)){
print(titles[[i]])
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(book_name in book_names){
book_name = paste(strsplit(book_name, " ")[[1]][1:10], sep = " ")
book_name = paste(book_name, '....')
print(book_name)
}
}
book_name = paste(strsplit(book_name, " ")[[1]][1:10], collapse = " ")
for(i in c(1:4)){
print(titles[[i]])
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(book_name in book_names){
book_name = paste(strsplit(book_name, " ")[[1]][1:10], collapse = " ")
book_name = paste(book_name, '....')
print(book_name)
}
}
for(i in c(1:4)){
print(titles[[i]])
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(1 in 1:length(book_names)){
for(i in c(1:4)){
print(titles[[i]])
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(j in 1:length(book_names)){
book_name = paste(strsplit(book_names$title[j], " ")[[1]][1:10], collapse = " ")
book_name = paste(book_name, '....')
print(book_name)
}
}
i = 5
i = 1
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
book_names$title[3]
length(bok_names)
length(book_names)
for(i in c(1:4)){
print(titles[[i]])
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(j in 1:nrow(book_names)){
book_name = paste(strsplit(book_names$title[j], " ")[[1]][1:10], collapse = " ")
book_name = paste(book_name, '....')
print(book_name)
}
}
book_name_word = strsplit(book_names$title[j], " ")
book_name_word[[2]]
book_name_word[1:5]
i = 1
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(i in c(1:4)){
print(titles[[i]])
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(j in 1:nrow(book_names)){
book_name_word = strsplit(book_names$title[j], " ")
book_name = paste(book_name_word[[1]][1:4], collapse = " ")
book_name = paste(book_name, '....')
print(book_name)
}
}
for(i in c(1:4)){
print(titles[[i]])
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(j in 1:nrow(book_names)){
book_name_word = strsplit(book_names$title[j], " ")
book_name = paste(book_name_word[[1]][1:4], collapse = " ")
book_name = paste(book_name, '....')
print(book_name)
}
print(rep('-', 30), quote = FALSE)
}
for(i in c(1:4)){
print(rep('*', 30), quote = FALSE)
print(titles[[i]])
print(rep('*', 30), quote = FALSE)
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(j in 1:nrow(book_names)){
book_name_word = strsplit(book_names$title[j], " ")
book_name = paste(book_name_word[[1]][1:4], collapse = " ")
book_name = paste(book_name, '....')
print(book_name)
}
print(rep('-', 30), quote = FALSE)
}
for(i in c(1:4)){
print(rep('-', 30), quote = FALSE)
print(titles[[i]])
print(rep('-', 30), quote = FALSE)
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(j in 1:nrow(book_names)){
book_name_word = strsplit(book_names$title[j], " ")
book_name = paste(book_name_word[[1]][1:4], collapse = " ")
book_name = paste(book_name, '....')
print(book_name)
}
print(rep('-', 30), quote = FALSE)
}
for(i in c(1:4)){
print(titles[[i]])
print(rep('-', 30), quote = FALSE)
book_names = book_data[which(is.na(book_data[col_names[i]])), 2]
for(j in 1:nrow(book_names)){
book_name_word = strsplit(book_names$title[j], " ")
book_name = paste(book_name_word[[1]][1:4], collapse = " ")
book_name = paste(book_name, '....')
print(book_name)
}
print(rep('-', 30), quote = FALSE)
}
book_data = book_data[-which(is.na(book_data$average_rating)), ]
load("C:/Users/kswp234/Box Sync/3rd Rotation/GitHub/Kaggle/Good Reads Books/.RData")
data = book_data %>% select(language_code) %>% summarize(n())
library(tidyverse)
data = book_data %>% select(language_code) %>% summarize(n())
data
data = book_data %>% select(language_code) %>% group_by(language_code) %>% summarize(n())
data
data = book_data %>% select(language_code) %>% group_by(language_code) %>%
summarize(n()) %>% arrange(desc(`n()`))
data
?rename
data = book_data %>% select(language_code) %>% group_by(language_code) %>%
summarize(n()) %>% arrange(desc(`n()`)) %>% rename(`n()` = 'count')
data = book_data %>% select(language_code) %>% group_by(language_code) %>%
summarize(n()) %>% arrange(desc(`n()`)) %>% rename('n()' = 'count')
data = book_data %>% select(language_code) %>% group_by(language_code) %>%
summarize(n()) %>% arrange(desc(`n()`)) %>% rename(., `n()` = 'count')
data = book_data %>% select(language_code) %>% group_by(language_code) %>%
summarize(n()) %>% arrange(desc(`n()`)) %>% select(`n()`) %>% rename('count')
data = book_data %>% select(language_code) %>% group_by(language_code) %>%
summarize(n()) %>% arrange(desc(`n()`)) %>% rename('count' = `n()`)
data
ggplot(data, aes(x = language_code, y = count)) +
geom_bar(stat= 'identity', fil = 'steelblue') +
geom_label(aes(label = count), hjust = 0.5, vjust= 0.5, size =5)
ggplot(data, aes(x = language_code, y = count)) +
geom_bar(stat= 'identity', fil = 'steelblue') +
geom_text(aes(label = count), hjust = 0.5, vjust= 0.5, size =5)
ggplot(data, aes(x = language_code, y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = 0.5, vjust= 0.5, size =5)
ggplot(data, aes(x = language_code, y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = 0.5, vjust= 0.5, size =3)
ggplot(data, aes(x = language_code, y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = 0.5, vjust= 1, size =3)
ggplot(data, aes(x = language_code, y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = 0.5, vjust= -1, size =3)
ggplot(data, aes(x = language_code, y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = 0.5, vjust= -0.5, size =3)
ggplot(data, aes(x = language_code, y = count)) +
geom_hbar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = 0.5, vjust= -0.5, size =3)
ggplot(data, aes(x = language_code, y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = 0.5, vjust= -0.5, size =3)
ggplot(data, aes(x = order(language_code, descending = TRUE), y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = 0.5, vjust= -0.5, size =3)
data = book_data %>% select(language_code) %>% group_by(language_code) %>%
summarize(n()) %>% arrange(desc(`n()`)) %>% rename('count' = `n()`)
data
ggplot(data, aes(x = language_code, y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = 0.5, vjust= -0.5, size =3)
View(data)
ggplot(data, aes(x = language_code, y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = 0.5, vjust= -0.5, size =3) +
coord_flip()
ggplot(data, aes(x = language_code, y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = -0.5, vjust= 0.5, size =3) +
coord_flip()
ggplot(data, aes(x = language_code, y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = -0.3, vjust= 0.5, size =3) +
coord_flip()
ggplot(data, aes(x = language_code, y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = -0.1, vjust= 0.5, size =3) +
coord_flip()
ggplot(data, aes(x = reorder(language_code, count), y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = -0.1, vjust= 0.5, size =3) +
coord_flip()
ggplot(data, aes(x = reorder(language_code, count), y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = -0.1, vjust= 0.5, size =3) +
coord_flip() +
labs(title = 'number of books by language')
ggplot(data, aes(x = reorder(language_code, count), y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = -0.1, vjust= 0.5, size =3) +
coord_flip() +
labs(title = 'number of books by language', xlab = 'language code')
ggplot(data, aes(x = reorder(language_code, count), y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = -0.1, vjust= 0.5, size =3) +
coord_flip() +
labs(title = 'number of books by language') + xlab('language code')
ggsave('./output/nbooks_language.jpeg', type = 'jpeg')
ggsave('./output/nbooks_language.jpeg', type = 'jpeg')
ggsave(path = './output/nbooks_language.jpeg', filename = 'nbooks_language.jpeg)
ggsave(path = './output/nbooks_language.jpeg', filename = 'nbooks_language.jpeg')
ggsave('./output/nbooks_language.jpeg', device = 'jpeg')
ggplot(data, aes(x = reorder(language_code, count), y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = -0.1, vjust= 0.5, size =3) +
coord_flip() +
labs(title = 'number of books by language') + xlab('language code')
ggsave('./output/nbooks_language.jpeg', device = 'jpeg')
ggsave('./output/nbooks_language.png', device = 'png')
ggsave(filename = 'nbooks_language', path = './output/nbooks_language.png', device = 'png')
ggsave(filename = 'nbooks_language', path = './output/nbooks_language.jpeg', device = 'jpeg')
ggsave('./output/nbooks_language.jpeg', device = 'jpeg')
round(data$language_code[1]/sum(data$count), 2)*100
round(max(data$count)/sum(data$count), 2)*100
ggplot(data, aes(x = reorder(language_code, count), y = count)) +
geom_bar(stat= 'identity', fill = 'steelblue') +
geom_text(aes(label = count), hjust = -0.1, vjust= 0.5, size =3) +
coord_flip() +
labs(title = 'number of books by language') + xlab('language code')
book_data %>% group_by(language_code) %>% summarize(n()) %>%
rename('count' = `n()`) %>% mutate(lang_code_simple = ifelse(count > 50,
language_code,
'other'))
book_data %>% group_by(language_code) %>% summarize(n()) %>%
rename('count' = `n()`) %>% mutate(lang_code_simple = ifelse(count > 50,
language_code,
'other')) %>%
ungroup(.) -> book_data2
View(book_data2)
book_data %>% group_by(language_code) %>% summarize(n()) %>%
rename('count' = `n()`) %>% mutate(lang_code_simple = ifelse(count > 50,
language_code,
'other')) -> book_data2
left_join(book_data, book_data2, by = c('language_code' = 'lang_code_simple'))
left_join(book_data, book_data2[,1], by = c('language_code' = 'lang_code_simple'))
left_join(book_data, book_data2 %>% select(lang_code_simple), by = c('language_code' = 'lang_code_simple'))
left_join(book_data, book_data2 %>% select(lang_code_simple), by = c('language_code' = 'language_code'))
left_join(book_data, book_data2 %>% select(language_code, lang_code_simple), by = c('language_code' = 'language_code'))
book_data = left_join(book_data, book_data2 %>% select(language_code, lang_code_simple), by = c('language_code' = 'language_code'))
View(book_data)
unique(book_data$lang_code_simple)
blank_theme = theme(
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.border = element_blank(),
panel.grid = element_blank()
)
p = ggplot(book_data2, aes(x = lang_code_simple, y = count, fill = lang_code_simple)) +
geom_bar(stat= 'identity', position_stack(vjust = 1))
p = ggplot(book_data2, aes(x = lang_code_simple, y = count)) +
geom_bar(aes(fill = lang_code_simple), stat= 'identity', position_stack(vjust = 1))
class(book_data2)
p = ggplot(book_data2, aes(x = lang_code_simple, y = count)) +
geom_bar(aes(fill = lang_code_simple), stat= 'identity')
p = ggplot(book_data2, aes(x = lang_code_simple, y = count)) +
geom_bar(aes(fill = lang_code_simple), stat= 'identity', position = 'stack' )
p
p = ggplot(book_data2, aes(x = lang_code_simple, y = count)) +
geom_bar(aes(fill = lang_code_simple), stat= 'identity', position = 'stack', width = 1 )
p
p = ggplot(book_data2, aes(x = lang_code_simple, y = count)) +
geom_bar(aes(fill = lang_code_simple), stat= 'identity', width = 1 )
p
p + coord_polar()
p + coord_polar("y", start = 0)
p = ggplot(book_data2, aes(x = "", y = count, fill = lang_code_simple)) +
geom_bar(stat= 'identity', width = 1 )
p + coord_polar("y", start = 0)
p + coord_polar("y", start = 0) + blank_theme()
blank_theme = theme(
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.border = element_blank(),
panel.grid = element_blank()
)
p + coord_polar("y", start = 0) + blank_theme()
p + coord_polar("y", start = 0) + blank_theme
blank_theme = theme(
axis.title = element_blank(),
axis.ticks = element_blank(),
panel.border = element_blank(),
panel.grid = element_blank(),
axis.text.x = element_blank()
)
p + coord_polar("y", start = 0) + blank_theme
ggsave('./output/pie_language.jpeg')
arrange(unique(book_data$title))
table(book_data$title)
unique(as.factor(book_data$title))
unique(as.factor(book_data$title))[1:6]
table(as.factor(book_data$title))[1:6]
